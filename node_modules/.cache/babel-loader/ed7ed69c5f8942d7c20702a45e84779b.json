{"ast":null,"code":"import _classCallCheck from\"C:\\\\xampp\\\\htdocs\\\\metaok\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";import _createClass from\"C:\\\\xampp\\\\htdocs\\\\metaok\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";import _possibleConstructorReturn from\"C:\\\\xampp\\\\htdocs\\\\metaok\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";import _getPrototypeOf from\"C:\\\\xampp\\\\htdocs\\\\metaok\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";import _inherits from\"C:\\\\xampp\\\\htdocs\\\\metaok\\\\my-app\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";import React,{Component}from'react';import{Link}from'react-router-dom';var RequestList=/*#__PURE__*/function(_Component){_inherits(RequestList,_Component);function RequestList(props){var _this;_classCallCheck(this,RequestList);_this=_possibleConstructorReturn(this,_getPrototypeOf(RequestList).call(this,props));_this.state={resolution:[],complete:[],conformity:[],confirmation:[]};// this.setConfirmation = this.setConfirmation.bind(this);\nreturn _this;}_createClass(RequestList,[{key:\"componentDidMount\",value:function componentDidMount(){var _this2=this;fetch('https://demo.metaok.com/metacmms_test/api/corrective/v1/requests?stateEnums=CONFIRMATION&regUsrNid=1',{method:'GET',headers:{\"Content-Type\":\"application/json\"}}).then(function(response){if(response.status!==200){console.log('Looks like there was a problem. Status Code: '+response.status);throw Error(response.status);;}return response;}).then(function(response){return response.json();}).then(function(data){_this2.setState({confirmation:data});}).catch(function(error){console.log(error);});fetch('https://demo.metaok.com/metacmms_test/api/corrective/v1/requests?stateEnums=RESOLUTION&regUsrNid=1',{method:'GET',headers:{\"Content-Type\":\"application/json\"}}).then(function(response){if(response.status!==200){console.log('Looks like there was a problem. Status Code: '+response.status);throw Error(response.status);;}return response;}).then(function(response){return response.json();}).then(function(data){_this2.setState({resolution:data});}).catch(function(error){console.log(error);});fetch('https://demo.metaok.com/metacmms_test/api/corrective/v1/requests?stateEnums=COMPLETED&regUsrNid=1',{method:'GET',headers:{\"Content-Type\":\"application/json\"}}).then(function(response){if(response.status!==200){console.log('Looks like there was a problem. Status Code: '+response.status);throw Error(response.status);;}return response;}).then(function(response){return response.json();}).then(function(data){_this2.setState({complete:data});}).catch(function(error){console.log(error);});fetch('https://demo.metaok.com/metacmms_test/api/corrective/v1/requests?stateEnums=CONFORMITY_REQUEST&regUsrNid=1',{method:'GET',headers:{\"Content-Type\":\"application/json\"}}).then(function(response){if(response.status!==200){console.log('Looks like there was a problem. Status Code: '+response.status);throw Error(response.status);;}return response;}).then(function(response){return response.json();}).then(function(data){_this2.setState({conformity:data});}).catch(function(error){console.log(error);});}},{key:\"convertDate\",value:function convertDate(datetime){var date=new Date(datetime);var formatted_date=(\"0\"+date.getDate()).slice(-2)+\"-\"+(\"0\"+(date.getMonth()+1)).slice(-2)+\"-\"+date.getFullYear()+\" \"+(\"0\"+date.getHours()).slice(-2)+\":\"+(\"0\"+date.getMinutes()).slice(-2);//let formatted_date = date.getDate() + \"-\" + (date.getMonth() + 1) + \"-\" + date.getFullYear() + \" \" + date.getHours() + \":\" + date.getMinutes();\nreturn formatted_date;}},{key:\"render\",value:function render(){var _this3=this;var confirmation=this.state.confirmation.map(function(request,index){var creationDate=_this3.convertDate(request.creationDate);return React.createElement(\"li\",{className:\"list-group-item list-group-item-action\",key:request.nid,style:{width:'100%'}},React.createElement(\"h5\",null,\"#\",request.nid,\" \",creationDate,\" \",request.urgencyNid===-3?React.createElement(\"span\",{className:\"badge badge-danger\"},\" Urgente\"):null),request.assetTypeNid!=null&&request.assetType.name,\" \",request.assetMarkNid!=null&&request.assetMark.name,\" \",request.assetModelNid!=null&&request.assetModel.name);});var resolution=this.state.resolution.map(function(request,index){var creationDate=_this3.convertDate(request.creationDate);return React.createElement(\"li\",{className:\"list-group-item list-group-item-action\",key:request.nid,style:{width:'100%'}},React.createElement(\"h5\",null,\"#\",request.nid,\" \",creationDate,\" \",request.urgencyNid===-3?React.createElement(\"span\",{className:\"badge badge-danger\"},\" Urgente\"):null),request.assetTypeNid!=null&&request.assetType.name,\" \",request.assetMarkNid!=null&&request.assetMark.name,\" \",request.assetModelNid!=null&&request.assetModel.name);});var complete=this.state.complete.map(function(request,index){var creationDate=_this3.convertDate(request.creationDate);return React.createElement(\"li\",{className:\"list-group-item list-group-item-action\",key:request.nid,style:{width:'100%'}},React.createElement(\"h5\",null,\"#\",request.nid,\" \",creationDate,\" \",request.urgencyNid===-3?React.createElement(\"span\",{className:\"badge badge-danger\"},\" Urgente\"):null),request.assetTypeNid!=null&&request.assetType.name,\" \",request.assetMarkNid!=null&&request.assetMark.name,\" \",request.assetModelNid!=null&&request.assetModel.name);});var conformity=this.state.conformity.map(function(request,index){var creationDate=_this3.convertDate(request.creationDate);return React.createElement(\"li\",{className:\"list-group-item list-group-item-action\",key:request.nid,style:{width:'100%'}},React.createElement(\"h5\",null,\"#\",request.nid,\" \",creationDate,\" \",request.urgencyNid===-3?React.createElement(\"span\",{className:\"badge badge-danger\"},\" Urgente\"):null),request.assetTypeNid!=null&&request.assetType.name,\" \",request.assetMarkNid!=null&&request.assetMark.name,\" \",request.assetModelNid!=null&&request.assetModel.name);});return React.createElement(\"div\",{className:\"container\"},React.createElement(\"div\",{className:\"row row-header bg-success\"},React.createElement(\"div\",{className:\"col-lg\"},\"Solicitudes MC\")),React.createElement(\"div\",{className:\"row\"},React.createElement(\"ul\",{className:\"nav nav-tabs\",id:\"myTab\",role:\"tablist\",style:{width:'100%'}},React.createElement(\"li\",{className:\"nav-item\"},React.createElement(\"a\",{className:\"nav-link active\",id:\"confirmation-tab\",\"data-toggle\":\"tab\",href:\"#confirmation\",role:\"tab\",\"aria-controls\":\"confirmation\",\"aria-selected\":\"true\"},\"Confirmaci\\xF3n\")),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(\"a\",{className:\"nav-link\",id:\"resolution-tab\",\"data-toggle\":\"tab\",href:\"#resolution\",role:\"tab\",\"aria-controls\":\"resolution\",\"aria-selected\":\"false\"},\"Resoluci\\xF3n\")),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(\"a\",{className:\"nav-link\",id:\"completed-tab\",\"data-toggle\":\"tab\",href:\"#complete\",role:\"tab\",\"aria-controls\":\"complete\",\"aria-selected\":\"false\"},\"Completa\")),React.createElement(\"li\",{className:\"nav-item\"},React.createElement(\"a\",{className:\"nav-link\",id:\"conformity-tab\",\"data-toggle\":\"tab\",href:\"#conformity\",role:\"tab\",\"aria-controls\":\"conformity\",\"aria-selected\":\"false\"},\"Conformidad\"))),React.createElement(\"div\",{className:\"tab-content\",id:\"myTabContent\",style:{width:'100%'}},React.createElement(\"div\",{className:\"tab-pane fade show active\",id:\"confirmation\",role:\"tabpanel\",\"aria-labelledby\":\"confirmation-tab\"},React.createElement(\"div\",{className:\"row \"},React.createElement(\"div\",{className:\"col-lg\",style:{textAlign:'center',marginTop:'10px'}},React.createElement(\"h4\",null,\"Espera de confirmaci\\xF3n\")),React.createElement(\"div\",{className:\"col-lg \"},React.createElement(\"ul\",{className:\"list-group list-group-flush\"},confirmation)))),React.createElement(\"div\",{className:\"tab-pane fade show \",id:\"resolution\",role:\"tabpanel\",\"aria-labelledby\":\"resolution-tab\"},React.createElement(\"div\",{className:\"row \"},React.createElement(\"div\",{className:\"col-lg\",style:{textAlign:'center',marginTop:'10px'}},React.createElement(\"h4\",null,\"En resoluci\\xF3n\")),React.createElement(\"div\",{className:\"col-lg \"},React.createElement(\"ul\",{className:\"list-group list-group-flush\"},resolution)))),React.createElement(\"div\",{className:\"tab-pane fade\",id:\"complete\",role:\"tabpanel\",\"aria-labelledby\":\"complete-tab\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-lg\",style:{textAlign:'center',marginTop:'10px'}},React.createElement(\"h4\",null,\"Completadas\")),React.createElement(\"div\",{className:\"col-lg\"},React.createElement(\"ul\",{className:\"list-group list-group-flush\"},complete)))),React.createElement(\"div\",{className:\"tab-pane fade\",id:\"conformity\",role:\"tabpanel\",\"aria-labelledby\":\"conformity-tab\"},React.createElement(\"div\",{className:\"row\"},React.createElement(\"div\",{className:\"col-lg\",style:{textAlign:'center',marginTop:'10px'}},React.createElement(\"h4\",null,\"  Espera de conformidad\")),React.createElement(\"div\",{className:\"col-lg\"},React.createElement(\"ul\",{className:\"list-group list-group-flush\"},conformity)))))),React.createElement(\"div\",{className:\"row\",style:{marginTop:'20px'}},React.createElement(\"div\",{className:\"col-md-4\",style:{textAlign:'center'}},React.createElement(Link,{to:\"/\"},React.createElement(\"button\",{type:\"button\",className:\"btn btn-outline-secondary btn-lg btn-full\"},\"Regresar\")))));}}]);return RequestList;}(Component);export default RequestList;// <div className=\"row\" key={request.nid}>\n//   <div className=\"col-lg list-item\" >\n//     <h5>#{request.nid} {request.creation_date} <span className=\"badge badge-success\">Resolución</span> <span className=\"badge badge-danger\">Urgente</span></h5>\n//     <h5>{request.asset.type} {request.asset.mark} {request.asset.model}</h5>\n//   </div>\n// </div>","map":{"version":3,"sources":["C:/xampp/htdocs/metaok/my-app/src/components/requestList.js"],"names":["React","Component","Link","RequestList","props","state","resolution","complete","conformity","confirmation","fetch","method","headers","then","response","status","console","log","Error","json","data","setState","catch","error","datetime","date","Date","formatted_date","getDate","slice","getMonth","getFullYear","getHours","getMinutes","map","request","index","creationDate","convertDate","nid","width","urgencyNid","assetTypeNid","assetType","name","assetMarkNid","assetMark","assetModelNid","assetModel","textAlign","marginTop"],"mappings":"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","sourcesContent":["import React,{Component} from 'react';\r\nimport { Link } from 'react-router-dom';\r\n\r\n\r\nclass RequestList extends Component{\r\n  constructor(props){\r\n      super(props);\r\n      this.state={\r\n        resolution:[],\r\n        complete:[],\r\n        conformity:[],\r\n        confirmation:[]\r\n      }\r\n  // this.setConfirmation = this.setConfirmation.bind(this);\r\n    }\r\n\r\n    componentDidMount() {\r\n      fetch('https://demo.metaok.com/metacmms_test/api/corrective/v1/requests?stateEnums=CONFIRMATION&regUsrNid=1', {\r\n          method: 'GET',\r\n          headers: {\r\n              \"Content-Type\": \"application/json\"\r\n          }\r\n      })\r\n        .then(response => {\r\n            if (response.status !== 200) {\r\n              console.log('Looks like there was a problem. Status Code: ' +response.status);\r\n              throw Error(response.status);;\r\n            }\r\n            return response;\r\n          })\r\n        .then(response => response.json())\r\n          .then(data => {\r\n              this.setState({ confirmation: data })\r\n          }\r\n        )\r\n        .catch(function(error) {console.log(error);});\r\n\r\n      fetch('https://demo.metaok.com/metacmms_test/api/corrective/v1/requests?stateEnums=RESOLUTION&regUsrNid=1', {\r\n          method: 'GET',\r\n          headers: {\r\n              \"Content-Type\": \"application/json\"\r\n          }\r\n      })\r\n      .then(response => {\r\n          if (response.status !== 200) {\r\n            console.log('Looks like there was a problem. Status Code: ' +response.status);\r\n            throw Error(response.status);;\r\n          }\r\n          return response;\r\n        })\r\n      .then(response => response.json())\r\n        .then(data => {\r\n            this.setState({ resolution: data })\r\n        }\r\n      )\r\n      .catch(function(error) {console.log(error);});\r\n\r\n        fetch('https://demo.metaok.com/metacmms_test/api/corrective/v1/requests?stateEnums=COMPLETED&regUsrNid=1', {\r\n            method: 'GET',\r\n            headers: {\r\n                \"Content-Type\": \"application/json\"\r\n            }\r\n        })\r\n        .then(response => {\r\n            if (response.status !== 200) {\r\n              console.log('Looks like there was a problem. Status Code: ' +response.status);\r\n              throw Error(response.status);;\r\n            }\r\n            return response;\r\n          })\r\n        .then(response => response.json())\r\n          .then(data => {\r\n              this.setState({ complete: data })\r\n          }\r\n        )\r\n        .catch(function(error) {console.log(error);});\r\n\r\n          fetch('https://demo.metaok.com/metacmms_test/api/corrective/v1/requests?stateEnums=CONFORMITY_REQUEST&regUsrNid=1', {\r\n              method: 'GET',\r\n              headers: {\r\n                  \"Content-Type\": \"application/json\"\r\n              }\r\n          })\r\n          .then(response => {\r\n              if (response.status !== 200) {\r\n                console.log('Looks like there was a problem. Status Code: ' +response.status);\r\n                throw Error(response.status);;\r\n              }\r\n              return response;\r\n            })\r\n          .then(response => response.json())\r\n            .then(data => {\r\n                this.setState({ conformity: data })\r\n            }\r\n          )\r\n          .catch(function(error) {console.log(error);});\r\n    }\r\n\r\n    convertDate(datetime){\r\n      let date=new Date(datetime);\r\n      let formatted_date = (\"0\" + date.getDate()).slice(-2) + \"-\" + (\"0\" + (date.getMonth() + 1)).slice(-2) + \"-\" + date.getFullYear() + \" \" + (\"0\" + date.getHours()).slice(-2) + \":\" + (\"0\" + date.getMinutes()).slice(-2);\r\n      //let formatted_date = date.getDate() + \"-\" + (date.getMonth() + 1) + \"-\" + date.getFullYear() + \" \" + date.getHours() + \":\" + date.getMinutes();\r\n      return formatted_date;\r\n    }\r\n    render(){\r\n\r\n      const confirmation=this.state.confirmation.map((request,index)=>{\r\n\r\n        let creationDate=this.convertDate(request.creationDate);\r\n        return(\r\n          <li className=\"list-group-item list-group-item-action\" key={request.nid} style={{width:'100%'}}>\r\n            <h5>\r\n              #{request.nid} {creationDate} {request.urgencyNid===-3 ? <span className=\"badge badge-danger\"> Urgente</span> : null}\r\n            </h5>\r\n            {request.assetTypeNid!=null && request.assetType.name} {request.assetMarkNid!=null && request.assetMark.name} {request.assetModelNid!=null && request.assetModel.name}\r\n          </li>\r\n        )\r\n      })\r\n\r\n      const resolution=this.state.resolution.map((request,index)=>{\r\n\r\n        let creationDate=this.convertDate(request.creationDate);\r\n        return(\r\n          <li className=\"list-group-item list-group-item-action\" key={request.nid} style={{width:'100%'}}>\r\n            <h5>\r\n              #{request.nid} {creationDate} {request.urgencyNid===-3 ? <span className=\"badge badge-danger\"> Urgente</span> : null}\r\n            </h5>\r\n            {request.assetTypeNid!=null && request.assetType.name} {request.assetMarkNid!=null && request.assetMark.name} {request.assetModelNid!=null && request.assetModel.name}\r\n          </li>\r\n        )\r\n      })\r\n\r\n      const complete=this.state.complete.map((request,index)=>{\r\n        let creationDate=this.convertDate(request.creationDate);\r\n        return(\r\n          <li className=\"list-group-item list-group-item-action\" key={request.nid} style={{width:'100%'}}>\r\n          <h5>\r\n            #{request.nid} {creationDate} {request.urgencyNid===-3 ? <span className=\"badge badge-danger\"> Urgente</span> : null}\r\n          </h5>\r\n          {request.assetTypeNid!=null && request.assetType.name} {request.assetMarkNid!=null && request.assetMark.name} {request.assetModelNid!=null && request.assetModel.name}\r\n          </li>\r\n        )\r\n      })\r\n\r\n      const conformity=this.state.conformity.map((request,index)=>{\r\n        let creationDate=this.convertDate(request.creationDate);\r\n        return(\r\n          <li className=\"list-group-item list-group-item-action\" key={request.nid} style={{width:'100%'}}>\r\n          <h5>\r\n            #{request.nid} {creationDate} {request.urgencyNid===-3 ? <span className=\"badge badge-danger\"> Urgente</span> : null}\r\n          </h5>\r\n          {request.assetTypeNid!=null && request.assetType.name} {request.assetMarkNid!=null && request.assetMark.name} {request.assetModelNid!=null && request.assetModel.name}\r\n          </li>\r\n        )\r\n      })\r\n\r\n      return(\r\n        <div className=\"container\">\r\n          <div className=\"row row-header bg-success\">\r\n            <div className=\"col-lg\">\r\n            Solicitudes MC\r\n            </div>\r\n          </div>\r\n          <div className=\"row\">\r\n\r\n\r\n            <ul className=\"nav nav-tabs\" id=\"myTab\" role=\"tablist\" style={{width:'100%'}}>\r\n\r\n            <li className=\"nav-item\">\r\n              <a className=\"nav-link active\" id=\"confirmation-tab\" data-toggle=\"tab\" href=\"#confirmation\" role=\"tab\" aria-controls=\"confirmation\" aria-selected=\"true\">Confirmación</a>\r\n            </li>\r\n              <li className=\"nav-item\">\r\n                <a className=\"nav-link\" id=\"resolution-tab\" data-toggle=\"tab\" href=\"#resolution\" role=\"tab\" aria-controls=\"resolution\" aria-selected=\"false\">Resolución</a>\r\n              </li>\r\n\r\n              <li className=\"nav-item\">\r\n                <a className=\"nav-link\" id=\"completed-tab\" data-toggle=\"tab\" href=\"#complete\" role=\"tab\" aria-controls=\"complete\" aria-selected=\"false\">Completa</a>\r\n              </li>\r\n\r\n              <li className=\"nav-item\">\r\n                <a className=\"nav-link\" id=\"conformity-tab\" data-toggle=\"tab\" href=\"#conformity\" role=\"tab\" aria-controls=\"conformity\" aria-selected=\"false\">Conformidad</a>\r\n              </li>\r\n\r\n            </ul>\r\n            <div className=\"tab-content\" id=\"myTabContent\" style={{width:'100%'}}>\r\n              <div className=\"tab-pane fade show active\" id=\"confirmation\" role=\"tabpanel\" aria-labelledby=\"confirmation-tab\">\r\n              <div className=\"row \" >\r\n              <div className=\"col-lg\" style={{textAlign:'center',marginTop:'10px'}}><h4>Espera de confirmación</h4></div>\r\n\r\n                <div className=\"col-lg \">\r\n                  <ul className=\"list-group list-group-flush\">\r\n\r\n                  {confirmation}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              </div>\r\n              <div className=\"tab-pane fade show \" id=\"resolution\" role=\"tabpanel\" aria-labelledby=\"resolution-tab\">\r\n              <div className=\"row \" >\r\n              <div className=\"col-lg\" style={{textAlign:'center',marginTop:'10px'}}><h4>En resolución</h4></div>\r\n\r\n                <div className=\"col-lg \">\r\n                  <ul className=\"list-group list-group-flush\">\r\n\r\n                  {resolution}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              </div>\r\n              <div className=\"tab-pane fade\" id=\"complete\" role=\"tabpanel\" aria-labelledby=\"complete-tab\">\r\n\r\n              <div className=\"row\">\r\n              <div className=\"col-lg\" style={{textAlign:'center',marginTop:'10px'}}><h4>Completadas</h4></div>\r\n                <div className=\"col-lg\">\r\n                  <ul className=\"list-group list-group-flush\">\r\n\r\n                  {complete}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              </div>\r\n              <div className=\"tab-pane fade\" id=\"conformity\" role=\"tabpanel\" aria-labelledby=\"conformity-tab\">\r\n              <div className=\"row\">\r\n              <div className=\"col-lg\" style={{textAlign:'center',marginTop:'10px'}}><h4>  Espera de conformidad</h4></div>\r\n                <div className=\"col-lg\">\r\n\r\n                  <ul className=\"list-group list-group-flush\">\r\n                  {conformity}\r\n                  </ul>\r\n                </div>\r\n              </div>\r\n              </div>\r\n            </div>\r\n\r\n          </div>\r\n          <div className=\"row\" style={{marginTop:'20px'}}>\r\n            <div className=\"col-md-4\" style={{textAlign:'center'}}>\r\n              <Link to=\"/\"><button type=\"button\" className=\"btn btn-outline-secondary btn-lg btn-full\">Regresar</button></Link>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      )\r\n    }\r\n}\r\n\r\nexport default RequestList;\r\n\r\n\r\n// <div className=\"row\" key={request.nid}>\r\n//   <div className=\"col-lg list-item\" >\r\n//     <h5>#{request.nid} {request.creation_date} <span className=\"badge badge-success\">Resolución</span> <span className=\"badge badge-danger\">Urgente</span></h5>\r\n//     <h5>{request.asset.type} {request.asset.mark} {request.asset.model}</h5>\r\n//   </div>\r\n// </div>\r\n"]},"metadata":{},"sourceType":"module"}